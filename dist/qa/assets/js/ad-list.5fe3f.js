(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1001:function(e,t,n){},1002:function(e,t,n){},1005:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(1),o=n(76),i=n(980),l=n.n(i),c=(n(977),n(989),n(258),n(990),n(86)),s=n(84),u=n(993),m=n(995),d=n(142),p=n(16),f=n.n(p),h=n(141),g=n.n(h),y=(n(187),n(50)),v=n(18),b=n.n(v),w=n(106),E=function(e){var t={selectedRowKeys:e.state.selectedRowKeys,onChange:function(t,n){e.setState({selectedRowKeys:t})}},n=[{width:100,title:"ID",dataIndex:"advertId"},{width:120,title:"广告图片",dataIndex:"content",render:function(e,t){return r.createElement("img",{className:"ad-img",src:t.content,alt:""})}},{width:100,title:"广告标题",dataIndex:"title"},{width:100,title:"链接",dataIndex:"jumpLink"},{width:100,title:"发布日期",dataIndex:"onlineTime",render:function(e,t){return b()(e).format("YYYY-MM-DD HH:mm:ss")}},{width:100,title:"下架日期",dataIndex:"offlineTime",render:function(e,t){return b()(e).format("YYYY-MM-DD HH:mm:ss")}},{width:100,title:"广告类型",dataIndex:"type",render:function(e){return 1==e?"首页banner":"教练banner"}},{width:100,title:"显示顺序",dataIndex:"showOrder"},{width:100,title:"总点击数",dataIndex:"clickCnt"},{width:120,title:"操作",render:function(t,n){return 9!==n.status?r.createElement("div",{className:"common-list-table-operation"},r.createElement("span",{onClick:function(){return e.goToEditor(n)}},"编辑"),r.createElement("span",{className:"common-list-table-operation-spliter"}),r.createElement("span",{onClick:function(){return e.deleteByIds(n.advertId)}},"删除")):null}}],a=Object.assign({},e.props.ad.paginationConfig,{onChange:function(t,n){e.resetPagination(n,t)},onShowSizeChange:function(t,n){e.resetPagination(n,t)}});return{addBtn:{title:function(){return r.createElement(g.a,{type:"primary",onClick:function(){return e.goToEditor({})}}," ",r.createElement(f.a,{type:"plus"}),"新建广告")}},searcher:{collapseControl:{onChange:function(t){e.toggleCollapse(t)},showMoreBtn:!0},batchControl:{placeholder:"请选择",showBatchControl:!y.a.isEmpty(e.state.selectedRowKeys),options:[{title:"删除",value:"delete"}],onBatch:function(t){e.onBatch(t)}},widgets:[[{type:"Select",label:"广告位置",showSearch:!1,placeholder:"请选择广告位置",allowClear:!1,width:100,value:e.state.searchPlatform,option:{key:"id",value:"value",title:"text",data:w.d},onSelect:function(t,n){e.setState({searchPlatform:t,filter:Object.assign({},e.state.filter,{terminal:t})})}},{type:"Select",label:"广告类型",showSearch:!1,placeholder:"请选择广告类型",allowClear:!1,width:140,value:e.state.searchType,option:{key:"id",value:"value",title:"text",data:w.e[e.state.searchPlatform||1]},onSelect:function(t,n){e.setState({searchType:t,filter:Object.assign({},e.state.filter,{advertType:t})})}},{type:"Select",label:"发布状态",showSearch:!1,placeholder:"请选择发布状态",allowClear:!1,width:100,value:e.state.searchStatus,option:{key:"id",value:"value",title:"text",data:[{id:0,text:"全部",value:0},{id:1,text:"待发布",value:1},{id:2,text:"上架中",value:2},{id:3,text:"已下架",value:3}]},onSelect:function(t,n){e.setState({searchStatus:t,filter:Object.assign({},e.state.filter,{pubStatus:t})})}}],[{type:"Input",label:"广告标题",width:100,placeholder:"请输入广告标题",value:e.state.searchTitle||void 0,onChange:function(t){e.setState({searchTitle:t.target.value,filter:Object.assign({},e.state.filter,{title:t.target.value})})}}],[{type:"RangePicker",label:"发布时间",placeholder:["开始日期","结束日期"],showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",alias:[1,7,30],value:e.state.searchPostDateRange||[],onChange:function(t){e.setState({searchPostDateRange:t,filter:Object.assign({},e.state.filter,{onlineTimeStart:t[0]?b()(t[0]).format("YYYY-MM-DD HH:mm:ss"):"",onlineTimeEnd:t[1]?b()(t[1]).format("YYYY-MM-DD HH:mm:ss"):""})})}}],[{type:"RangePicker",label:"下架时间",placeholder:["开始日期","结束日期"],showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",alias:[1,7,30],value:e.state.searchTakeOffDateRange||[],onChange:function(t){e.setState({searchTakeOffDateRange:t,filter:Object.assign({},e.state.filter,{offlineTimeStart:t[0]?b()(t[0]).format("YYYY-MM-DD HH:mm:ss"):"",offlineTimeEnd:t[1]?b()(t[1]).format("YYYY-MM-DD HH:mm:ss"):""})})}}]],onSearch:function(t){e.onSearch(t)},onReset:function(){e.onReset()}},table:{rowKey:"advertId",loading:e.state.tableLoading,columns:n,dataSource:e.state.allList,pagination:a,rowSelection:t,onChange:function(e,t,n){}}}},S=(n(1001),n(988)),C=n.n(S),k=(n(985),n(407)),O=n.n(k),T=(n(259),n(408),n(986),n(979)),R=n.n(T),j=(n(978),n(992)),N=n.n(j),P=(n(991),n(997)),Y=(n(1002),n(11));function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=C.a.Item,B=R.a.RangePicker,L={labelCol:{sm:{span:10}},wrapperCol:{sm:{span:12}}},A=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=H(t).apply(this,arguments),(e=!o||"object"!==D(o)&&"function"!=typeof o?I(n):o).state={mode:"add"},e.componentDidMount=function(){e.init()},e.init=function(){var t=e.$qs.parse(e.props.location.search),n=e.props,a=n.ad.currentShowAd,r=n.history;e.setState({mode:0==t.id?"add":"edit"},function(){"edit"===e.state.mode&&(a.advertId||r.replace("/admin/ad/list"))})},e.renderEditor=function(){var t=e.props.form,n=t.getFieldDecorator,a=t.setFieldsValue,o=e.props.ad,i=o.currentShowAd,l=o.setCurrentAd;return r.createElement(C.a,Object.assign({className:"editor-form"},L),r.createElement(_,{label:"广告位置/类型",required:!0},n("platformAndType",{initialValue:i&&i.platformAndType,rules:[{required:!0,message:"请选择广告位置/类型"}]})(r.createElement(N.a,{style:{width:150},options:[{value:"1",label:"B端",children:[{value:"1",label:"首页Banner"}]},{value:"2",label:"C端",children:[{value:"1",label:"首页Banner"},{value:"2",label:"教练首页Banner"}]}],placeholder:"请选择",onChange:function(e){y.a.isEmpty(e)?l({terminal:void 0,type:void 0},!1):l({terminal:parseInt(e[0]),type:parseInt(e[1])},!1)}}))),r.createElement(_,{className:"form-upload",label:"广告内容",required:!0},n("content",{initialValue:i&&i.content,rules:[{required:!0,message:"请上传图片"}]})(r.createElement(P.a,{key:"content",accept:"image/*",fileList:i.content,customRequest:function(t){return e.customRequest(t)},onRemove:function(e){a({content:""}),l({content:""},!1)},tip:"宽高690x360"}))),r.createElement(_,{label:"广告标题",required:!0},n("title",{initialValue:i&&i.title,rules:[{required:!0,message:"请填写广告标题"}]})(r.createElement(O.a,{style:{width:300},placeholder:"请输入广告标题",onChange:function(e){l({title:e.target.value},!1)}}))),r.createElement(_,{label:"跳转链接",required:!0},n("jumpLink",{initialValue:i&&i.jumpLink,rules:[{required:!0,message:"请填写跳转链接"}]})(r.createElement(O.a,{style:{width:300},placeholder:"请输入跳转链接",onChange:function(e){l({jumpLink:e.target.value},!1)}}))),r.createElement(_,{label:"显示顺序",required:!0},n("showOrder",{initialValue:i&&i.showOrder,rules:[{required:!0,message:"请填写显示顺序"}]})(r.createElement(O.a,{type:"number",style:{width:200},onChange:function(e){l({showOrder:e.target.value},!1)}}))),r.createElement(_,{label:"发布-下架时间",required:!0},n("beginEndTime",{initialValue:i&&i.beginEndTime,rules:[{required:!0,message:"请选择发布-下架时间"}]})(r.createElement(B,{style:{width:400},showTime:{defaultValue:[b()("00:00:00","HH:mm:ss"),b()("23:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",placeholder:["开始日期","结束日期"],onChange:function(e){y.a.isEmpty(e)||l({beginTime:e[0].format("YYYY-MM-DD HH:mm:ss"),endTime:e[1].format("YYYY-MM-DD HH:mm:ss")},!1)}}))),r.createElement(_,{className:"editor-form-btns"},r.createElement(g.a,{type:"primary",onClick:e.handleSubmit},"保存"),r.createElement(g.a,{onClick:e.goBack},"取消")))},e.customRequest=function(t){var n=e.props.form.setFieldsValue,a=e.props.ad.setCurrentAd;y.a.uploadFile({file:t.file,fileName:t.file.name,ypModel:"onfirefit"}).then(function(e){n({content:e}),a({content:e},!1)})},e.handleSubmit=function(){(0,e.props.form.validateFieldsAndScroll)(function(t,n){return a.a(I(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n,a,r,o,i,l,c,s,u,m,d,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!t){e.next=5;break}Object.values(t).some(function(e){return!!(e.errors.length>0&&e.errors[0].message)&&(p.$msg.warn(e.errors[0].message),!0)}),e.next=14;break;case 5:return n=this.props.ad.currentAd,a=Object(Y.n)(n),r=a.content,o=a.showOrder,i=a.terminal,l=a.title,c=a.jumpLink,s=a.onlineTime,u=a.offlineTime,m={advertId:"add"===this.state.mode?null:a.advertId,advertType:a.type,content:r,showOrder:o,terminal:Number(i),title:l,jumpLink:c,onlineTime:b()(s).format("YYYY-MM-DD HH:mm:ss"),offlineTime:b()(u).format("YYYY-MM-DD HH:mm:ss")},e.next=11,this.$api.ad.addOrUpdateAdvert(m).catch(function(e){p.$msg.error(e.message)});case 11:d=e.sent,console.log(d),200!==d.status&&204!==d.status||(this.$msg.success("操作成功！"),this.props.history.replace("/admin/ad/list"));case 14:case"end":return e.stop()}},e,this)}))})},e.goBack=function(){},e}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,o["a"]),n=t,(i=[{key:"render",value:function(){return r.createElement("section",{className:"editor"},r.createElement("section",{className:"editor-content panel-block"},this.renderEditor()))}}])&&x(n.prototype,i),l&&x(n,l),t}(),q=A=a.b([C.a.create(),Object(s.b)("common","ad"),s.c],A),$=n(253),F=n.n($);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=l.a.confirm,G=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=W(t).apply(this,arguments),(e=!r||"object"!==V(r)&&"function"!=typeof r?z(n):r).state={filter:{},tableLoading:!1,selectedRowKeys:[],allList:[],currentPage:1,modalVisible:!1,searchPlatform:void 0,searchType:void 0,searchStatus:void 0,searchTitle:"",searchPostDateRange:[],searchTakeOffDateRange:[]},e.resetPagination=function(t,n){return a.a(z(e),void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.ad.setPaginationCurrent(n),this.setState({filter:Object.assign({},this.state.filter,{limit:t,pageNum:n})},function(){return a.a(r,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.filter,this.getDataList(t);case 2:case"end":return e.stop()}},e,this)}))});case 2:case"end":return e.stop()}},e,this)}))},e.getDataList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({tableLoading:!0,filter:Object.assign({},e.state.filter,t)},function(){return a.a(z(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n,a,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.ad.getAdvertList(Object.assign({},this.state.filter,t)).catch(function(e){r.$msg.error(e.message),r.setState({tableLoading:!1})});case 2:(n=e.sent)&&n.data&&((a=n.data)&&a.length>0&&this.props.ad.setPaginationTotal(a[0].total),this.setState({allList:a,tableLoading:!1}));case 4:case"end":return e.stop()}},e,this)}))})},e.goToEditor=function(t){y.a.isEmpty(t)?e.$store.ad.setCurrentAd({}):e.$store.ad.setCurrentAd(t,!0);var n="/admin/ad/editor?id=".concat(F()(t)?0:t.advertId);e.props.history.replace(n)},e.onBatch=function(t){var n=e.state.selectedRowKeys;if(t&&y.a.isEmpty(n))return e.$msg.warning("请选择至少一条记录");"delete"===t&&e.deleteByIds(n)},e.onSearch=function(){return a.a(z(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({filter:Object.assign({},this.state.filter,{pageNum:1})},function(){return a.a(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getDataList(this.state.filter),this.props.ad.setPaginationCurrent(1);case 2:case"end":return e.stop()}},e,this)}))});case 1:case"end":return e.stop()}},e,this)}))},e.onReset=function(){return a.a(z(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete(t=Object.assign({},this.state.filter,{pageNum:1})).advertType,delete t.title,delete t.pubStatus,delete t.offlineTimeStart,delete t.offlineTimeEnd,delete t.onlineTimeStart,delete t.onlineTimeEnd,delete t.terminal,this.setState({filter:t,searchPlatform:void 0,searchType:void 0,searchStatus:void 0,searchTitle:"",searchPostDateRange:[],searchTakeOffDateRange:[]},function(){return a.a(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getDataList(this.state.filter),this.props.ad.setPaginationCurrent(1);case 2:case"end":return e.stop()}},e,this)}))});case 10:case"end":return e.stop()}},e,this)}))},e.deleteByIds=function(t){return a.a(z(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:J({title:"删除操作",content:"广告将会被删除，请问是否确认？",onOk:function(){return a.a(n,void 0,void 0,regeneratorRuntime.mark(function e(){var n,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.isArray(t)?t.join(","):String(t),e.next=3,this.$api.ad.delAdvertById({advertIds:t}).catch(function(e){a.$msg.error(e.message)});case 3:200!==(n=e.sent).status&&204!==n.status||(this.$msg.success("操作成功！"),this.getDataList(this.state.filter),this.props.ad.setPaginationCurrent(1));case 5:case"end":return e.stop()}},e,this)}))},onCancel:function(){return a.a(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}});case 1:case"end":return e.stop()}},e)}))},e}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,o["a"]),n=t,(i=[{key:"componentDidMount",value:function(){return a.a(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.ad.paginationConfig,n=t.defaultPageSize,a=t.defaultCurrent,this.resetPagination(n,a);case 2:case"end":return e.stop()}},e,this)}))}},{key:"componentDidUpdate",value:function(e,t){if("/admin/ad"===this.props.location.pathname&&this.props.history.replace("/admin/ad/list"),"/admin/ad/editor"===e.location.pathname&&"/admin/ad/list"===this.props.location.pathname){var n=this.props.ad.paginationConfig,a=n.defaultPageSize,r=n.defaultCurrent;this.resetPagination(a,r)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.match,a=t.location,o=t.ad.currentShowAd,i="/admin/ad/editor"===a.pathname?!y.a.isEmpty(o)&&o.advertId?"编辑广告":"新建广告":"广告列表";return r.createElement("div",null,r.createElement(u.a,Object.assign({},this.props,{title:i})),r.createElement(c.a,{path:"".concat(n.url,"/list"),render:function(t){return r.createElement(m.a,Object.assign({},t,{config:E(e)}))}}),r.createElement(c.a,{path:"".concat(n.url,"/editor"),render:function(e){return r.createElement(q,Object.assign({},e))}}))}}])&&K(n.prototype,i),l&&K(n,l),t}();G=a.b([Object(d.a)("/admin/ad",{exact:!1}),Object(s.b)("common","ad"),s.c],G);t.default=G},993:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(1),r=n(982),o=n.n(r),i=(n(981),n(50));n(994);function l(e){var t=i.a.getPageBreadcrumb(e.location.pathname),n=e.title,r=e.links,l=e.tabs,c=e.currentTab;return a.createElement("div",{className:"common-header"},a.createElement("section",{className:"common-header-breadcrumb"},t&&a.createElement(o.a,null,t.map(function(e,t){return a.createElement(o.a.Item,{key:t},e.title)}))),a.createElement("section",{className:"common-header-title",style:{marginBottom:l?25:0}},a.createElement("h2",null,n),a.createElement("div",{className:"common-header-links"},r&&r.map(function(t,n){return a.createElement("a",{key:n,onClick:function(){e.history.push(t.path)}},t.title)}))),a.createElement("section",{className:"common-header-tabs"},l&&l.map(function(t,n){return a.createElement("a",{key:t.id,onClick:function(){e.onTabClick(t.id)},className:"".concat(c===t.id?"tab-active":""," ")},a.createElement("span",null,t.title),t.tipComponent&&t.tipComponent())})))}},994:function(e,t,n){},995:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var a=n(1),r=n(76),o=(n(996),n(141)),i=n.n(o),l=(n(187),n(260)),c=n.n(l),s=(n(408),n(407)),u=n.n(s),m=(n(259),n(984)),d=n.n(m),p=(n(983),n(979)),f=n.n(p),h=(n(978),n(188)),g=n.n(h),y=(n(409),n(16)),v=n.n(y),b=(n(258),n(412)),w=n.n(b),E=(n(411),n(413)),S=n.n(E),C=(n(410),n(50)),k=n(18),O=n.n(k);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=c.a.Option,D=u.a.Group,x=f.a.RangePicker,H={SelectInput:function(e){var t=e.selectValue,n=e.inputValue,r=e.placeholder,o=e.options,i=e.onSelectChange,l=e.onInputChange;return a.createElement(D,{compact:!0},a.createElement(c.a,{style:{width:100},value:t,onChange:i},o&&o.map(function(e,t){return a.createElement(Y,{key:t,value:e.value},e.title)})),a.createElement(u.a,{style:{width:238},value:n,onChange:l,placeholder:r}))},Select:function(e){var t=e.option,n=e.label,r=e.mode,o=e.onSearch,i=e.onSelect,l=e.onBlur,s=e.onFocus,u=e.value,m=e.placeholder,d=e.showSearch,p=e.width,f=e.filterOption,h=e.onChange,g=e.allowClear,y=e.onPopupScroll;return a.createElement(a.Fragment,null,n&&a.createElement("span",{className:"common-list-label"},"".concat(n,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(c.a,{allowClear:g,value:u,mode:r||!1,style:{minWidth:p||258,width:p},showSearch:d,placeholder:m,filterOption:f,onSearch:o,onSelect:i,onChange:h,onBlur:l,onPopupScroll:y,onFocus:s},t.data.map(function(e){return a.createElement(Y,{key:e[t.key]||e.id,value:e[t.value]||e.id,$data:e},e[t.title])}))))},DatePicker:function(e){var t=e.label,n=e.placeholder,r=e.onChange,o=e.value,i=e.style,l=e.format,c=e.showTime;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(f.a,{format:l||!1,style:i,showTime:c,placeholder:n,value:o,onChange:r})))},RangePicker:function(e){var t=e.label,n=e.alias,r=e.placeholder,o=e.onChange,l=e.value,c=e.showTime,s=e.format;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(x,{style:{width:400},showTime:c,format:s,placeholder:r,value:l,onChange:o}),a.createElement("span",{className:"common-list-control-date-alias"},!C.a.isEmpty(n)&&n.map(function(e,t){return a.createElement(i.a,{key:t,onClick:function(){return o([O()(Date.now()-864e5*e),O()()])}},e," 天内")}))))},Input:function(e){var t=e.label,n=e.value,r=e.placeholder,o=e.onChange,i=e.width;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(u.a,{style:{minWidth:i||258},value:n,onChange:o,placeholder:r})))},Checkbox:function(e){var t=e.label,n=e.value,r=e.onChange;return a.createElement(g.a,{checked:n,onChange:r},t)},Label:function(e,t){var n=e.label;return a.createElement(a.Fragment,null,n&&a.createElement("span",{className:"common-list-label"},"".concat(n,"：")),a.createElement("span",{className:"common-list-control"},t))},Custom:function(e){return a.createElement("div",null,(void 0).props.children)}},I=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=j(this,N(t).apply(this,arguments))).state={collapse:!0},e.toggleCollapse=function(t){e.setState({collapse:!e.state.collapse})},e.renderSearcher=function(){var t=e.props.config,n=t.searcher,r=t.table,o=e.state.collapse;return n&&a.createElement("section",{className:"common-list-search"},e.renderWidgets(n.widgets),r&&r.tableHeader&&r.tableHeader(),a.createElement("div",{className:"common-list-search-right"},n.collapseControl&&n.collapseControl.showMoreBtn&&a.createElement("span",{className:"common-list-serach-more"},a.createElement("a",{style:{display:"flex",alignItems:"center"},onClick:e.toggleCollapse},o?"更多":"收起"," ",a.createElement(v.a,{type:o?"down":"up"}))),!n.hideSearcher&&a.createElement(a.Fragment,null,a.createElement(i.a,{type:"primary",onClick:n.onSearch},"查询"),a.createElement(i.a,{onClick:n.onReset},"重置"))))},e.renderWidgets=function(t){var n=e.state.collapse,r=e.props.config.searcher;return t&&a.createElement("div",{className:"common-list-search-left"},t.map(function(t,o){return Array.isArray(t)?a.createElement("div",{key:o,className:"common-list-search-row",style:{display:r.collapseControl&&r.collapseControl.showMoreBtn&&n&&o>0?"none":"flex"}},t.map(function(t){return a.createElement("div",{key:t.label,className:"common-list-search-col",style:Object.assign({},t.style)},H[t.type]&&H[t.type](t,t.children?e.renderWidgets(t.children):null))})):a.createElement("div",{key:t.label,className:"common-list-search-row ".concat(t.className)},H[t.type]&&H[t.type](t,t.children?e.renderWidgets(t.children):null))}))},e.renderAddBtn=function(){var t=e.props.config,n=t.addBtn,r=t.searcher;return n&&a.createElement("section",{className:"common-list-addbtn",style:n.style},"function"==typeof n.title?a.createElement(n.title,null):n.title,a.createElement("div",{className:"common-list-search-batch"},r&&r.batchControl.showBatchControl&&a.createElement(c.a,{placeholder:r.batchControl.placeholder,style:{minWidth:120},defaultValue:void 0,onChange:r.batchControl.onBatch},r.batchControl.options.map(function(e){return a.createElement(Y,{key:e.value,value:e.value},e.title)}))))},e.renderTableHeader=function(){var t=e.props.config.tableHeader;return a.createElement("section",{className:"common-list-table-header"},t&&t())},e.renderTable=function(){var t=e.props.config.table,n=t.rowKey,r=t.rowSelection,o=t.columns,i=t.dataSource,l=t.pagination,c=t.onChange,s=t.loading,u=t.locale;return a.createElement("section",{className:"common-list-table"},a.createElement(d.a,{locale:u,rowKey:n||"id",rowSelection:r,columns:o,dataSource:i,loading:s,pagination:l,onChange:c}))},e.renderCards=function(){var t=e.props.config.cards,n=t.dataSource,r=t.loading,o=t.pagination,i=t.renderCard,l=t.addBtn,c=t.mode;return a.createElement("div",{className:"common-list-cards-wrapper"},a.createElement("ul",{className:"common-list-cards"},r?a.createElement("div",{className:"common-list-cards-loading"},a.createElement(S.a,null)):a.createElement(a.Fragment,null,l&&a.createElement("li",{className:"common-list-card add-btn"},a.createElement("div",{className:"common-list-card-item",onClick:l.onAddBtnClick},l.icon?a.createElement("img",{src:l.icon,alt:""}):a.createElement(v.a,{type:"plus-circle"}),a.createElement("p",null,l.title))),"custom"===c?n.map(function(e){return a.createElement("li",{key:e[e.key]||e.id},i(e))}):n.map(function(e){return a.createElement("li",{className:"common-list-card",key:e[e.key]||e.id},a.createElement("div",{className:"common-list-card-item"},i(e)))}))),a.createElement("section",{className:"common-list-cards-pagination"},a.createElement(w.a,Object.assign({},o))))},e}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r["a"]),n=t,(o=[{key:"render",value:function(){var e=this.props.config;return a.createElement("div",{className:"common-list"},this.renderSearcher(),this.renderAddBtn(),this.renderTableHeader(),e.table&&this.renderTable(),e.cards&&this.renderCards())}}])&&R(n.prototype,o),l&&R(n,l),t}()},996:function(e,t,n){},997:function(e,t,n){"use strict";var a=n(1),r=n(76),o=(n(998),n(16)),i=n.n(o),l=(n(258),n(987)),c=n.n(l);n(986);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=a.createElement("div",null,a.createElement(i.a,{type:"plus"}),a.createElement("div",{className:"ant-upload-text"},"上传图片")),h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=m(this,d(t).apply(this,arguments))).state={},e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["a"]),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.accept,o=t.fileList,i=t.customRequest,l=t.onRemove,s=t.tip;return a.createElement("div",{className:"upload-wrapper"},a.createElement(c.a,{className:n,accept:r,listType:"picture-card",fileList:o,customRequest:function(e){return i(e)},onRemove:function(e){return l(e)},beforeUpload:function(t){if(r&&"image/*"!==r){var n=t.type===r;return n||e.$msg.error("请上传".concat(r,"格式图片")),n}return!0}},f),a.createElement("span",{className:"form-upload-tip"},s))}}])&&u(n.prototype,o),i&&u(n,i),t}();h.defaultProps={className:"",accept:"image/*",tip:""},t.a=h},998:function(e,t,n){}}]);